<Window x:Class="lab6_new.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:lab6_new"
        mc:Ignorable="d"
        Title="Управління студентами - Варіант 8" Height="600" Width="900">

    <Window.Resources>
        <local:StudentToAverageConverter x:Key="StudentToAverageConverter"/>
        <local:StudentToPassedConverter x:Key="StudentToPassedConverter"/>
    </Window.Resources>

    <Grid Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Панель додавання студента -->
        <GroupBox Header="Додати нового студента" Grid.Row="0" Margin="0,0,0,8">
            <StackPanel Orientation="Horizontal" Margin="4" VerticalAlignment="Center">
                <TextBox x:Name="TxtFullName" Width="200" Margin="0,0,8,0" ToolTip="ПІБ студента"/>
                <TextBox x:Name="TxtGroupNumber" Width="100" Margin="0,0,8,0" ToolTip="Номер групи"/>
                <Button x:Name="BtnAddStudent" Content="Додати студента" Width="120" Click="BtnAddStudent_Click" Margin="0,0,8,0"/>
            </StackPanel>
        </GroupBox>

        <!-- Панель додавання іспитів -->
        <GroupBox Header="Додати результати іспитів" Grid.Row="1" Margin="0,0,0,8">
            <StackPanel Orientation="Horizontal" Margin="4" VerticalAlignment="Center">
                <ComboBox x:Name="CmbStudents" Width="200" Margin="0,0,8,0" DisplayMemberPath="FullName"/>
                <TextBox x:Name="TxtSubject" Width="120" Margin="0,0,8,0" ToolTip="Назва предмету"/>
                <TextBox x:Name="TxtScore" Width="80" Margin="0,0,8,0" ToolTip="Оцінка (0-100)"/>
                <Button x:Name="BtnAddExam" Content="Додати іспит" Width="100" Click="BtnAddExam_Click"/>
            </StackPanel>
        </GroupBox>

        <!-- Основна таблиця -->
        <DataGrid x:Name="DataGridStudents" Grid.Row="2" AutoGenerateColumns="False" IsReadOnly="True" SelectionMode="Single">
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding FullName}" Header="ПІБ" Width="200"/>
                <DataGridTextColumn Binding="{Binding GroupNumber}" Header="Група" Width="80"/>
                <DataGridTextColumn Binding="{Binding ExamResults[0].Subject}" Header="Предмет 1" Width="100"/>
                <DataGridTextColumn Binding="{Binding ExamResults[0].Score}" Header="Оцінка 1" Width="70"/>
                <DataGridTextColumn Binding="{Binding ExamResults[1].Subject}" Header="Предмет 2" Width="100"/>
                <DataGridTextColumn Binding="{Binding ExamResults[1].Score}" Header="Оцінка 2" Width="70"/>
                <DataGridTextColumn Binding="{Binding ExamResults[2].Subject}" Header="Предмет 3" Width="100"/>
                <DataGridTextColumn Binding="{Binding ExamResults[2].Score}" Header="Оцінка 3" Width="70"/>
                <DataGridTextColumn Binding="{Binding Path=., Converter={StaticResource StudentToAverageConverter}}" Header="Середній бал" Width="80"/>
                <DataGridCheckBoxColumn Binding="{Binding Path=., Converter={StaticResource StudentToPassedConverter}}" Header="Склав сесію" Width="80"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Панель керування -->
        <StackPanel Orientation="Horizontal" Grid.Row="3" HorizontalAlignment="Left" Margin="0,8,0,0">
            <Button x:Name="BtnRemove" Content="Видалити обраного" Width="120" Click="BtnRemove_Click" Margin="0,0,8,0"/>
            <Button x:Name="BtnShowSuccessful" Content="Успішні студенти" Width="120" Click="BtnShowSuccessful_Click" Margin="0,0,8,0"/>
            <Button x:Name="BtnShowAll" Content="Всі студенти" Width="100" Click="BtnShowAll_Click" Margin="0,0,8,0"/>
            <Button x:Name="BtnSortByGroup" Content="Сортувати за групою" Width="120" Click="BtnSortByGroup_Click" Margin="0,0,8,0"/>
            <Button x:Name="BtnSave" Content="Зберегти в JSON" Width="120" Click="BtnSave_Click" Margin="16,0,8,0"/>
            <Button x:Name="BtnLoad" Content="Завантажити з JSON" Width="120" Click="BtnLoad_Click"/>
        </StackPanel>
    </Grid>
</Window>